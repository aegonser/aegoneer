const _0x3ed8b8=_0x4eb7;(function(_0x2412a7,_0x217a62){const _0x26760c=_0x4eb7,_0x3c3348=_0x2412a7();while(!![]){try{const _0x2c54ba=-parseInt(_0x26760c(0xa8))/0x1+parseInt(_0x26760c(0xa1))/0x2*(parseInt(_0x26760c(0xae))/0x3)+-parseInt(_0x26760c(0xbd))/0x4+-parseInt(_0x26760c(0xaa))/0x5+parseInt(_0x26760c(0xb8))/0x6+-parseInt(_0x26760c(0x9f))/0x7+parseInt(_0x26760c(0xa6))/0x8;if(_0x2c54ba===_0x217a62)break;else _0x3c3348['push'](_0x3c3348['shift']());}catch(_0x15c5f2){_0x3c3348['push'](_0x3c3348['shift']());}}}(_0x2c85,0x2e203));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x3ed8b8(0xba)),ff=require(_0x3ed8b8(0xbe)),webp=require('node-webpmux'),path=require('path');function _0x2c85(){const _0x2b5a72=['default','1284630suTfFe','data','https://github.com/DikaArdnt/Hisoka-Morou','end','126IhKLFH','mimetype','save','-vf','unlinkSync','toFormat','webp','exports','-an','exif','45378yOSJVZ','join','crypto','stringify','writeUIntLE','1473076dIkPhT','fluent-ffmpeg','.jpg','addOutputOptions','length','utf-8','libwebp','readFileSync','writeFileSync','load','error','-vcodec','from','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','readUIntLE','test','.mp4','00:00:00','randomBytes','author','categories','-ss','1651090lOLgvs','Image','11156PoslNa','00:00:05','concat','toString','.webp','8744792SpudNr','packname','284942uLxDkz'];_0x2c85=function(){return _0x2b5a72;};return _0x2c85();}function _0x4eb7(_0x2e6a1b,_0x412aad){const _0x2c85fd=_0x2c85();return _0x4eb7=function(_0x4eb79b,_0x1459d7){_0x4eb79b=_0x4eb79b-0x91;let _0x20ae3=_0x2c85fd[_0x4eb79b];return _0x20ae3;},_0x4eb7(_0x2e6a1b,_0x412aad);}async function imageToWebp(_0x32880f){const _0x159755=_0x3ed8b8,_0x536813=path[_0x159755(0xb9)](tmpdir(),Crypto[_0x159755(0x9b)](0x6)[_0x159755(0x97)](0x0,0x6)['toString'](0x24)+'.webp'),_0x2ae4ca=path['join'](tmpdir(),Crypto[_0x159755(0x9b)](0x6)[_0x159755(0x97)](0x0,0x6)['toString'](0x24)+_0x159755(0xbf));fs[_0x159755(0x91)](_0x2ae4ca,_0x32880f),await new Promise((_0xed87cb,_0x2e635e)=>{const _0x334f20=_0x159755;ff(_0x2ae4ca)['on'](_0x334f20(0x93),_0x2e635e)['on']('end',()=>_0xed87cb(!![]))[_0x334f20(0xc0)]([_0x334f20(0x94),'libwebp',_0x334f20(0xb1),_0x334f20(0x96)])[_0x334f20(0xb3)](_0x334f20(0xb4))[_0x334f20(0xb0)](_0x536813);});const _0x22e286=fs[_0x159755(0xc4)](_0x536813);return fs[_0x159755(0xb2)](_0x536813),fs[_0x159755(0xb2)](_0x2ae4ca),_0x22e286;}async function videoToWebp(_0x5b25e5){const _0x247b77=_0x3ed8b8,_0x25ba78=path[_0x247b77(0xb9)](tmpdir(),Crypto[_0x247b77(0x9b)](0x6)[_0x247b77(0x97)](0x0,0x6)['toString'](0x24)+_0x247b77(0xa5)),_0x2ae43b=path[_0x247b77(0xb9)](tmpdir(),Crypto[_0x247b77(0x9b)](0x6)[_0x247b77(0x97)](0x0,0x6)['toString'](0x24)+_0x247b77(0x99));fs[_0x247b77(0x91)](_0x2ae43b,_0x5b25e5),await new Promise((_0x307a3e,_0x4f242f)=>{const _0x4c8e31=_0x247b77;ff(_0x2ae43b)['on'](_0x4c8e31(0x93),_0x4f242f)['on'](_0x4c8e31(0xad),()=>_0x307a3e(!![]))[_0x4c8e31(0xc0)](['-vcodec',_0x4c8e31(0xc3),_0x4c8e31(0xb1),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','-loop','0',_0x4c8e31(0x9e),_0x4c8e31(0x9a),'-t',_0x4c8e31(0xa2),'-preset',_0x4c8e31(0xa9),_0x4c8e31(0xb6),'-vsync','0'])[_0x4c8e31(0xb3)]('webp')[_0x4c8e31(0xb0)](_0x25ba78);});const _0x58a591=fs[_0x247b77(0xc4)](_0x25ba78);return fs['unlinkSync'](_0x25ba78),fs['unlinkSync'](_0x2ae43b),_0x58a591;}async function writeExifImg(_0x7d163a,_0x463125){const _0x40e1b4=_0x3ed8b8;let _0x2c8516=await imageToWebp(_0x7d163a);const _0xe92952=path[_0x40e1b4(0xb9)](tmpdir(),Crypto[_0x40e1b4(0x9b)](0x6)[_0x40e1b4(0x97)](0x0,0x6)['toString'](0x24)+_0x40e1b4(0xa5)),_0x45d6d6=path[_0x40e1b4(0xb9)](tmpdir(),Crypto[_0x40e1b4(0x9b)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+'.webp');fs['writeFileSync'](_0xe92952,_0x2c8516);if(_0x463125['packname']||_0x463125[_0x40e1b4(0x9c)]){const _0x2df341=new webp['Image'](),_0x159400={'sticker-pack-id':_0x40e1b4(0xac),'sticker-pack-name':_0x463125[_0x40e1b4(0xa7)],'sticker-pack-publisher':_0x463125[_0x40e1b4(0x9c)],'emojis':_0x463125[_0x40e1b4(0x9d)]?_0x463125[_0x40e1b4(0x9d)]:['']},_0x3db8e1=Buffer[_0x40e1b4(0x95)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x51da7a=Buffer[_0x40e1b4(0x95)](JSON[_0x40e1b4(0xbb)](_0x159400),_0x40e1b4(0xc2)),_0x1a95c5=Buffer['concat']([_0x3db8e1,_0x51da7a]);return _0x1a95c5[_0x40e1b4(0xbc)](_0x51da7a[_0x40e1b4(0xc1)],0xe,0x4),await _0x2df341['load'](_0xe92952),fs[_0x40e1b4(0xb2)](_0xe92952),_0x2df341[_0x40e1b4(0xb7)]=_0x1a95c5,await _0x2df341[_0x40e1b4(0xb0)](_0x45d6d6),_0x45d6d6;}}async function writeExifVid(_0x16a5b0,_0x29714f){const _0x35628f=_0x3ed8b8;let _0x48b8bd=await videoToWebp(_0x16a5b0);const _0x5a4ee9=path[_0x35628f(0xb9)](tmpdir(),Crypto[_0x35628f(0x9b)](0x6)['readUIntLE'](0x0,0x6)[_0x35628f(0xa4)](0x24)+_0x35628f(0xa5)),_0x2d63a8=path[_0x35628f(0xb9)](tmpdir(),Crypto[_0x35628f(0x9b)](0x6)['readUIntLE'](0x0,0x6)[_0x35628f(0xa4)](0x24)+_0x35628f(0xa5));fs[_0x35628f(0x91)](_0x5a4ee9,_0x48b8bd);if(_0x29714f[_0x35628f(0xa7)]||_0x29714f[_0x35628f(0x9c)]){const _0x124363=new webp[(_0x35628f(0xa0))](),_0x26cbbb={'sticker-pack-id':'https://github.com/DikaArdnt/Hisoka-Morou','sticker-pack-name':_0x29714f[_0x35628f(0xa7)],'sticker-pack-publisher':_0x29714f[_0x35628f(0x9c)],'emojis':_0x29714f[_0x35628f(0x9d)]?_0x29714f[_0x35628f(0x9d)]:['']},_0x299951=Buffer[_0x35628f(0x95)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4d39d1=Buffer[_0x35628f(0x95)](JSON[_0x35628f(0xbb)](_0x26cbbb),_0x35628f(0xc2)),_0x2c3efe=Buffer[_0x35628f(0xa3)]([_0x299951,_0x4d39d1]);return _0x2c3efe[_0x35628f(0xbc)](_0x4d39d1[_0x35628f(0xc1)],0xe,0x4),await _0x124363['load'](_0x5a4ee9),fs['unlinkSync'](_0x5a4ee9),_0x124363[_0x35628f(0xb7)]=_0x2c3efe,await _0x124363['save'](_0x2d63a8),_0x2d63a8;}}async function writeExif(_0x79d6c5,_0x20ee89){const _0x61c13f=_0x3ed8b8;let _0x9d5613=/webp/['test'](_0x79d6c5[_0x61c13f(0xaf)])?_0x79d6c5[_0x61c13f(0xab)]:/image/[_0x61c13f(0x98)](_0x79d6c5['mimetype'])?await imageToWebp(_0x79d6c5[_0x61c13f(0xab)]):/video/[_0x61c13f(0x98)](_0x79d6c5['mimetype'])?await videoToWebp(_0x79d6c5[_0x61c13f(0xab)]):'';const _0x45d6cc=path[_0x61c13f(0xb9)](tmpdir(),Crypto[_0x61c13f(0x9b)](0x6)[_0x61c13f(0x97)](0x0,0x6)[_0x61c13f(0xa4)](0x24)+_0x61c13f(0xa5)),_0x5d99e5=path[_0x61c13f(0xb9)](tmpdir(),Crypto[_0x61c13f(0x9b)](0x6)['readUIntLE'](0x0,0x6)[_0x61c13f(0xa4)](0x24)+'.webp');fs['writeFileSync'](_0x45d6cc,_0x9d5613);if(_0x20ee89[_0x61c13f(0xa7)]||_0x20ee89[_0x61c13f(0x9c)]){const _0x32ba93=new webp[(_0x61c13f(0xa0))](),_0x359d26={'sticker-pack-id':_0x61c13f(0xac),'sticker-pack-name':_0x20ee89[_0x61c13f(0xa7)],'sticker-pack-publisher':_0x20ee89['author'],'emojis':_0x20ee89[_0x61c13f(0x9d)]?_0x20ee89[_0x61c13f(0x9d)]:['']},_0x2f5b9d=Buffer[_0x61c13f(0x95)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xb10254=Buffer[_0x61c13f(0x95)](JSON['stringify'](_0x359d26),_0x61c13f(0xc2)),_0x2c42cc=Buffer[_0x61c13f(0xa3)]([_0x2f5b9d,_0xb10254]);return _0x2c42cc[_0x61c13f(0xbc)](_0xb10254['length'],0xe,0x4),await _0x32ba93[_0x61c13f(0x92)](_0x45d6cc),fs[_0x61c13f(0xb2)](_0x45d6cc),_0x32ba93['exif']=_0x2c42cc,await _0x32ba93[_0x61c13f(0xb0)](_0x5d99e5),_0x5d99e5;}}module[_0x3ed8b8(0xb5)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
